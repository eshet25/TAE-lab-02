---
title: "Lab 02 - Plastic waste"
author: "Tsion"
date: "01/31/2026"
output: github_document
---

## Load packages and data

```{r load-packages, message=FALSE}
library(tidyverse) 
```

```{r load-data, message=FALSE}
plastic_waste <- read.csv("data/plastic-waste.csv")
```

Data Visualization: (Before starting exercise: For my own practice and to look back on later)

```{r histogram of distribution of plastic waste per capita}
ggplot(data = plastic_waste, aes(x = plastic_waste_per_cap)) +
  geom_histogram(binwidth = 0.2)
```

```{r filter data for countries > 3.5kg/person: to identify the outlier}
plastic_waste %>%
  filter(plastic_waste_per_cap > 3.5)
```


## Exercises

### Exercise 1

```{r plastic-waste-continent}
ggplot(data = plastic_waste, aes(x = plastic_waste_per_cap)) +
  geom_histogram(binwidth = 0.2) + 
  facet_wrap(~continent) + 
  labs( 
    title = "Distribution of plastic waste per capita",
    subtitle = "by continent",
    x = "Plastic waste per capita (kg/day)",
    y = "Countries (count)"
    )
```
```

### Exercise 2

```{r plastic-waste-density, better alpha}
ggplot(
  data = plastic_waste,
  mapping = aes(
    x = plastic_waste_per_cap,
    color = continent,
    fill = continent
  )
) +
  geom_density(alpha = 0.3) + 
  labs (
  title = "Distribution of plastic waste per capita",
    subtitle = "by continent",
    x = "Plastic waste per capita (kg/day)",
    y = "Countries (density)")
```

2.2. The reason why we defined 'color' and 'fill' under mapping aesthetics of the plot is because these are characteristics  that are based on (vary by) the values in the data (for example here, different color and fill show each continent). On the other hand, for the alpha, this is a characteristics that is not based on the values of the data for our current purpose (we are changing the transparency level of the fill color to help with the overlapping colors of the continents making it hard to effectively visualize the data). So, we define it here a a characteristic of the plotting geom (setting).

### For my own practice (to refer back later)

```{r plastic-waste-box plots}
ggplot(
  data = plastic_waste,
  mapping = aes(
    x = continent,
    y = plastic_waste_per_cap
  )
) +
  geom_boxplot() +
  labs (
  title = "Boxplot distribution of plastic waste per capita",
    subtitle = "by continent",
    x = "Continents",
    y = "Plastic waste per capita (kg/day)")

```

*Note: To zoom in to the box plots and not have it compressed by the outlier, you can add:

```{r plastic-waste-zoom in-box plots}
ggplot(
  data = plastic_waste,
  mapping = aes(
    x = continent,
    y = plastic_waste_per_cap
  )
) +
   geom_boxplot(width = 0.7) +
  coord_cartesian(ylim = c(0, 0.6)) +
  labs (
  title = "Boxplot distribution of plastic waste per capita",
    subtitle = "by continent",
    x = "Continents",
    y = "Plastic waste per capita (kg/day)")
```

### Exercise 3

```{r plastic-waste-violin}
ggplot(
  data = plastic_waste,
  mapping = aes(
    x = continent,
    y = plastic_waste_per_cap
  )
) +
  geom_violin() +
  labs (
  title = "Violin distribution of plastic waste per capita",
    subtitle = "by continent",
    x = "Continents",
    y = "Plastic waste per capita (kg/day)")
```

3.1. The violin distributions give us more information about the shape of the distriution, compared to box plots. Violin plots are a combination of a box plot and density plot. For example, if we look at the plot for Africa, we can see that it is wider at the bottom (a triangle shape), which shows us that most countires in Africa are in the low range for plastic waste per cap. 

On the other hand, violin plots aren't as effective as box plots when it comes to identifying outliers, and also if we want to present a more simplified way to visualize/interpret data. So, it depends on our goal which one we would like to use, as they both have their own advantages.

### Exercise 4

### 4.1 

```{r plastic-waste-mismanaged}
ggplot (
data = plastic_waste,
mapping = aes(
x = plastic_waste_per_cap,
y = mismanaged_plastic_waste_per_cap
)
) + 
geom_point() +
labs (
  title = "Scatterplot: Plastic Waste vs Mismanaged plastic waste per capita",
    subtitle = "by continent",
    x = "Plastic waste per capita (kg/day)",
    y = "Mismanaged plastic waste per capita (kg/day)")

```

Most countries seem to be piled up near the lower values of plastic waste per capita. It appears like there is some upward trend going on in the lower values, but we can't know much at this point since there is no distinction between the continents. As we saw from previous visualizations, we can also see clearly there is one clear outlier that is further out more than 3kg/day. 

### 4.2 

```{r plastic-waste-mismanaged-continent}
ggplot (
data = plastic_waste,
mapping = aes(
x = plastic_waste_per_cap,
y = mismanaged_plastic_waste_per_cap,
color = continent
)
) + 
geom_point()  +
labs (
  title = "Scatterplot: Plastic Waste vs Mismanaged plastic waste per capita",
    subtitle = "by continent",
    x = "Plastic waste per capita (kg/day)",
    y = "Mismanaged plastic waste per capita (kg/day)")
```

I don't think there is a very obvious distinction between the continents since they are very clustered together. But it also looks like most continents follow somewhat upward of a pattern.As the plastic waste per capita increases, there mostly seems to be an increase with the mismanaged plastic waste per capita for the continents (the least obvious in this trend seems to be South America). The extreme outlier we idenitifed belongs to North America. 

### 4.3

```{r plastic-waste-population-total}
ggplot (
data = plastic_waste,
mapping = aes(
x = plastic_waste_per_cap,
y = total_pop,
color = continent
)
) + 
geom_point()  +
labs (
  title = "Scatterplot: Plastic Waste per capita vs Total Population",
    subtitle = "by continent",
    x = "Plastic waste per capita (kg/day)",
    y = "Total Population")
```

There doesn't seem to be a clear/strong linear relationship, it's not very clear since they are clustered very much. We can try to do facet to see better

```{r plastic-waste-population-total facet}
ggplot (
data = plastic_waste,
mapping = aes(
x = plastic_waste_per_cap,
y = total_pop,
color = continent
)
) + 
geom_point(size = 1)  +
facet_wrap(~ continent) +
labs (
  title = "Scatterplot: Plastic Waste per capita vs Total Population",
    subtitle = "by continent",
    x = "Plastic waste per capita (kg/day)",
    y = "Total Population")
```

I still can't confidetntly say I can see a very clear linear relationship. In Asia, we can see a couple of countries that are in the higer population range (>1,000,000,000), but are still showing low plastic waste per capita. Most countries in each continent are clustered at the lower values of plastic waste per capita, and generally in the population range of < 500,000,000. In North America, it looks like most of the countries are concentrated in the very low total population range (0e+00). 

```{r plastic-waste-population-coastal}
ggplot (
data = plastic_waste,
mapping = aes(
x = plastic_waste_per_cap,
y = coastal_pop,
color = continent
)
) + 
geom_point() +
labs (
  title = "Scatterplot: Plastic Waste per capita vs Coastal Population",
    subtitle = "by continent",
    x = "Plastic waste per capita (kg/day)",
    y = "Coastal Population")
```


```{r plastic-waste-population-coastal facet}
ggplot (
data = plastic_waste,
mapping = aes(
x = plastic_waste_per_cap,
y = coastal_pop,
color = continent
)
) + 
geom_point() +
facet_wrap(~ continent) +
labs (
  title = "Scatterplot: Plastic Waste per capita vs Coastal Population",
    subtitle = "by continent",
    x = "Plastic waste per capita (kg/day)",
    y = "Coastal Population")
```

Here as well, I am not sure if I see a clear/strong linear assosciation. Most of the countries are clustered around the lower pastic per waste capita values, and with generally low coastal population. But in Asia, we see a number of countries that have high coastal population but are still in the lower range for plastic waste per capita. 

### Exercise 5

*Note: group =1, makes one smooth line for all continents (instead of separate lines)

*se = TRUe, shows the confidence interval around the smooth line

```{r recreate-viz}
plastic_waste %>%
  filter(plastic_waste_per_cap > 3.5)
ggplot (
data = plastic_waste,
mapping = aes(
x = coastal_pop/ total_pop,
y = plastic_waste_per_cap,
color = continent
)
) + 
geom_point () +
geom_smooth(
aes (group = 1),
color = "black",
se = TRUE
) +
scale_color_viridis_d() +
coord_cartesian(ylim = c(0,0.7)) +
labs (
  title = "Plastic Waste vs coastal population proportion",
    subtitle = "by continent",
    x = "Coastal population proportion (Coastal/ total population",
    y = "Plastic waste per capita (kg/day)",
    color = "Continents") 
```


